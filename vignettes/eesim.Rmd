---
title: "Using `eesim`"
author: "Sarah Koehler and Brooke Anderson"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
library(eesim)
library(ggplot2)
```

## Overview of package

This package allows you to simulate time series of environmental health data and
perform simulation-based power analyses and other measures of model performance.
The package can be thought of as including four main parts: exposure data 
generation, outcome data generation, fitting models, and evaluating models.
The user has the option to customize different aspects of the simulation at each
of the four steps.

## Basic example of using the package

You can use the eesim function to generate data, fit models, and assess the 
models. Using the eesim function is the most efficient way to make use of this 
package as this one function performs all four main steps of the package.  

```{r}
ex_sim <- eesim(n_reps = 10, n = 1000, central = 100, sd = 10,
                exposure_type = "continuous", exposure_trend = "cos1",
                exposure_amp = .6, average_outcome = 22, rr = 1.01,
                model = "spline", df_year = 6)
head(ex_sim[[1]][[1]])
```

##Piece-by-piece breakdown of package utility

To demonstrate how eesim works, here is a breakdown of each of the four main 
parts: exposure, outcome, fitting models, and evaluating models.

###Generating exposure data

The first section of the package is concerned with generating air pollution 
exposure data (or potentially other types of exposure) that may have seasonal 
trends. The user can specify whether they would like the exposure data to be
binary or continuous, and what kind of trend they would like the data to 
exhibit. We have built in several seasonal trends to choose from, which differ 
slightly depending on whether binary or continuous data is desired.

```{r}

```

## Comparing two models

As a basic example, you can use this package to simulate a continuous environmental exposure with seasonal and year-round trends and a count outcome. You can then fit a case-crossover and GLM model to this data and compare performance.


## More detailed examples
